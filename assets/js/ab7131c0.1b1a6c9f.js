(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[533],{3905:function(t,e,n){"use strict";n.d(e,{Zo:function(){return p},kt:function(){return d}});var r=n(7294);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var s=r.createContext({}),u=function(t){var e=r.useContext(s),n=e;return t&&(n="function"==typeof t?t(e):i(i({},e),t)),n},p=function(t){var e=u(t.components);return r.createElement(s.Provider,{value:e},t.children)},c={inlineCode:"code",wrapper:function(t){var e=t.children;return r.createElement(r.Fragment,{},e)}},h=r.forwardRef((function(t,e){var n=t.components,o=t.mdxType,a=t.originalType,s=t.parentName,p=l(t,["components","mdxType","originalType","parentName"]),h=u(n),d=o,m=h["".concat(s,".").concat(d)]||h[d]||c[d]||a;return n?r.createElement(m,i(i({ref:e},p),{},{components:n})):r.createElement(m,i({ref:e},p))}));function d(t,e){var n=arguments,o=e&&e.mdxType;if("string"==typeof t||o){var a=n.length,i=new Array(a);i[0]=h;var l={};for(var s in e)hasOwnProperty.call(e,s)&&(l[s]=e[s]);l.originalType=t,l.mdxType="string"==typeof t?t:o,i[1]=l;for(var u=2;u<a;u++)i[u]=n[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},6167:function(t,e,n){"use strict";n.r(e),n.d(e,{frontMatter:function(){return l},metadata:function(){return s},toc:function(){return u},default:function(){return c}});var r=n(2122),o=n(9756),a=(n(7294),n(3905)),i=["components"],l={sidebar_position:6},s={unversionedId:"beatmania/software",id:"beatmania/software",isDocsHomePage:!1,title:"Software and Wiring",description:"Introduction",source:"@site/docs/beatmania/06-software.md",sourceDirName:"beatmania",slug:"/beatmania/software",permalink:"/test/docs/beatmania/software",editUrl:"https://github.com/consandstuff/docs/beatmania/06-software.md",version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"Building the controller",permalink:"/test/docs/beatmania/building"},next:{title:"Troubleshooting",permalink:"/test/docs/beatmania/Troubleshooting"}},u=[{value:"Introduction",id:"introduction",children:[]},{value:"Wiring the Leonardo PCB",id:"wiring-the-leonardo-pcb",children:[]},{value:"Special gift!",id:"special-gift",children:[]}],p={toc:u};function c(t){var e=t.components,l=(0,o.Z)(t,i);return(0,a.kt)("wrapper",(0,r.Z)({},p,l,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"introduction"},"Introduction"),(0,a.kt)("p",null,"The wiring process is simple enough but will give you a headache the first time you plug everything and something doesn't work."),(0,a.kt)("p",null,"I'll give you an introduction to some of the parts of the controller, and then I'll explain how to wire everything for a LEONARDO and a TEENSY board."),(0,a.kt)("p",null,"First let's talk about ",(0,a.kt)("strong",{parentName:"p"},"microswitches.")),(0,a.kt)("p",null,"Microswitches can have 2 or 3 contacts depending if they're chinese or Omron brand switches.\nThe first one usually have 3 contacts: the one from bellow it's the ground (GND or COM) and the lower right one is the input. The third one on the upper right it's normally closed (NC), we won't use it. Omron switches come only with the lower and lower right contacts. Check out this diagram:"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"enter image description here",src:n(8806).Z})),(0,a.kt)("p",null,"For the LEONARDO we usually daisy-chain all the GROUND/COMMON wires to a single one. This is completly normal and will make the job a lot easier."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Thanks to LEONARDOjoy tutorial for this image.")),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"http://i.imgur.com/DOZom0Z.jpg",alt:"enter image description here"})),(0,a.kt)("p",null,"Then we have the ",(0,a.kt)("strong",{parentName:"p"},"encoders"),"."),(0,a.kt)("p",null,"The chinese enclose rotary encoders (600ppr) have 4 wires coming out: Data A and B (to send the rotating information), 5V input (to give the encoder the power to work) and GND (which is the ground / common), like shown here:"),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"http://i.imgur.com/n57AcSg.png",alt:"enter image description here"})),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"The image is from the Beatmania IIDX tutorial, but the encoder is the same.")),(0,a.kt)("p",null,"The 2 data wires go to the pins indicated in the PIN LAYOUT as DATA A and B, depending if you're using a Leo or a Teensy. Same with the 5v pin and the Ground pin."),(0,a.kt)("h2",{id:"wiring-the-leonardo-pcb"},"Wiring the Leonardo PCB"),(0,a.kt)("p",null,"For the LEONARDO circuit board we're gonna be using any kind of stranded wire, usually a thin one so it doesn't use too much space.\nWe're also be using those cool crimp connectors so we don't have to solder each wire to each button, and desoldering everytime a button or switch breaks. It'll make maintenance easier in the long run."),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"http://i.imgur.com/wVEetdk.jpg",alt:"enter image description here"})),(0,a.kt)("p",null,"First let's choose a good place for the LEONARDO inside the box. You want it to be in a place where you don't need wires that are too long or put it to close neither. Fix the Leaonardo using 2 or more screws."),(0,a.kt)("p",null,"Cut some wires so the length of it is enough to reach from each of the buttons to the Arduino Leonardo PCB. For this cut 2 wires of different colors for each button. Those 2 wires will be the positive (+) charge for the Button and the LED."),(0,a.kt)("p",null,"Strip the tip of each wire and using a crimper, crimp a 250 and a 187 crimp connector to each one. The 250 crimp is for the LED and the 187 crimp is for the microswitch."),(0,a.kt)("p",null,"Next we're gonna daisy-chain all the grounds / common of each one of the buttons."),(0,a.kt)("p",null,"Take a long wire but don't cut it yet. Strip the tip and put a crimp connector in it. In this case use a 250 crimp connector for the ground of the LED. Put the connector on the first upper left button and measure how much wire you need to reach the second button on the side. Cut the wire to that lenght and strip the tip of it too."),(0,a.kt)("p",null,"Now strip the tip of the the wire you had left and then take the 2 wires and twist them together in a single wire. Using the 250 crimp connector crimp both wires with only 1 crimp connector. Be sure that it's firmly crimped or else the button or LED won't work sometimes."),(0,a.kt)("p",null,"Repeat this process until all the 250 crimp connectors are attached. The other end of the wire that is not crimped is gonna go to the Leonardo so leave a good wire lenght."),(0,a.kt)("p",null,"Now do the same thing with the 187 crimp connectors for each of the buttons and that'll leave you with two ground wires."),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"http://i.imgur.com/BhBj5Rs.png",alt:"enter image description here"})),(0,a.kt)("p",null,"For the encoders strip some of the black wire protector back so the lenght of each encoder wire is long enough to reach all 4 pins you'll need in the Leonardo."),(0,a.kt)("p",null,"Now you'll have 18 single wires (9 LEDS and 9 buttons) and 2 ground wires, and also 4 encoder wires."),(0,a.kt)("p",null,"Now you need to use a soldering iron and some solder to tin the tip of each wire so the threads of the wires are together in a single solid wire. Try to make it as thin as posible so it fits inside the jumper holes of the PCB. The tinned wires should now be able to go inside the jumper holes for each pin, following the next PIN LAYOUT."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Beatmania IIDX pin layout")),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Button"),(0,a.kt)("th",{parentName:"tr",align:null},"Pin #"),(0,a.kt)("th",{parentName:"tr",align:null},"Button #"),(0,a.kt)("th",{parentName:"tr",align:null},"LED Pin #"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Start"),(0,a.kt)("td",{parentName:"tr",align:null},"11"),(0,a.kt)("td",{parentName:"tr",align:null},"Button 8"),(0,a.kt)("td",{parentName:"tr",align:null},"2")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"VFX"),(0,a.kt)("td",{parentName:"tr",align:null},"12"),(0,a.kt)("td",{parentName:"tr",align:null},"Button 9"),(0,a.kt)("td",{parentName:"tr",align:null},"3")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Button 1"),(0,a.kt)("td",{parentName:"tr",align:null},"13"),(0,a.kt)("td",{parentName:"tr",align:null},"Button 1"),(0,a.kt)("td",{parentName:"tr",align:null},"4")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Button 2"),(0,a.kt)("td",{parentName:"tr",align:null},"A0"),(0,a.kt)("td",{parentName:"tr",align:null},"Button 2"),(0,a.kt)("td",{parentName:"tr",align:null},"5")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Button 3"),(0,a.kt)("td",{parentName:"tr",align:null},"A1"),(0,a.kt)("td",{parentName:"tr",align:null},"Button 3"),(0,a.kt)("td",{parentName:"tr",align:null},"6")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Button 4"),(0,a.kt)("td",{parentName:"tr",align:null},"A2"),(0,a.kt)("td",{parentName:"tr",align:null},"Button 4"),(0,a.kt)("td",{parentName:"tr",align:null},"7")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Button 5"),(0,a.kt)("td",{parentName:"tr",align:null},"A3"),(0,a.kt)("td",{parentName:"tr",align:null},"Button 5"),(0,a.kt)("td",{parentName:"tr",align:null},"8")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Button 6"),(0,a.kt)("td",{parentName:"tr",align:null},"A4"),(0,a.kt)("td",{parentName:"tr",align:null},"Button 6"),(0,a.kt)("td",{parentName:"tr",align:null},"9")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Button 7"),(0,a.kt)("td",{parentName:"tr",align:null},"A5"),(0,a.kt)("td",{parentName:"tr",align:null},"Button 7"),(0,a.kt)("td",{parentName:"tr",align:null},"10")))),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"ENCODERS"),(0,a.kt)("th",{parentName:"tr",align:null},"DATA 1"),(0,a.kt)("th",{parentName:"tr",align:null},"DATA 2"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Encoder Tuntable"),(0,a.kt)("td",{parentName:"tr",align:null},"0"),(0,a.kt)("td",{parentName:"tr",align:null},"1")))),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},(0,a.kt)("strong",{parentName:"p"},"Also you have to connect the encoder to the 5V pin for the 5v input."))),(0,a.kt)("p",null,"That leaves pins 2 to 10 for LEDS (9 LEDS, enough for each button)\nThe Leonardo also has 3 ground pins, so use 1 for the encoder, 1 for the buttons and the other one for the LEDS."),(0,a.kt)("p",null,"With this done you now only need to load the code into the Arduino and it's done!"),(0,a.kt)("p",null,"##Wiring the ARCIN board"),(0,a.kt)("p",null,"An Arcin board is a type of custom PCB that has all the inputs necesary for most known rhythm game controllers.\nThe board comes with 11 headers for buttons, 2 headers for encoders and also 2 extra 2-pin headers to attach LEDS to the Turntable. It has everything for a IIDX, SDVX or even a PopnMusic controller."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"If you know about arcin boards, then you'll know where to buy them. Right now it's kind of a private thing so please don't ask for links because they're not sold in any known stores or webpage, they're custom made by another user on a private forum.")),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"http://i.imgur.com/eHsqWNL.png",alt:"arcinpcb"})),(0,a.kt)("p",null,"So since the PCB comes preloaded with the right firmware and has all the slots for a controller we just need to wire each of the buttons."),(0,a.kt)("p",null,"For this part of the project we'll need all 10 pcs. 4 pin wires. Start by testing each of the Arcin pins with a small jumper wire just so you know which pins are for the LEDS and which ones are for the buttons, since we will crimp the 250 crimps on LEDs and the 187 crimps on the Buttons."),(0,a.kt)("p",null,"Once they're all tested take each 4 pin wire and crimp a connector en each end of the wire. If you think the wire is too long you can cut it and tin the tip so it's easier to crimp. You'll end up with 9 wires like the one shown below."),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"http://i.imgur.com/hEbBqOl.jpg?1",alt:"crimped wire arcin"})),(0,a.kt)("p",null,"Then it's just as easy as connect each cable to each button and then connect the header into the Arcin board and you're done! Much easier than the Leonardo, right? Yes, but it's also more expensive."),(0,a.kt)("p",null,"For the encoder you'll need to connect the 4 pin wire to the four wires coming from the encoder.\nThe encoder is fixed to the acrylic using the 3 pcs. M3 bolts (6mm long)."),(0,a.kt)("p",null,"The encoder pins are the tricky part since it depends on the version of your arcin board. It should be (from left to right) 5v, GND, Data A and Data B. (Sometimes it's reversed)"),(0,a.kt)("p",null,"Again, test each pin on the arcin board before doing anything. When you're done just connect the encoder to the Arcin."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"We're done!")),(0,a.kt)("p",null,"Now check your connections, close up the controller, connect the USB cable and let's play!"),(0,a.kt)("h2",{id:"special-gift"},"Special gift!"),(0,a.kt)("p",null,"This is a special skin for this IIDX controller to put between the keypad acrilic and the top black cover."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"skin IIDX",src:n(1928).Z})),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Right click, Save Image as.... Then print it in a ",(0,a.kt)("strong",{parentName:"p"},"Letter")," or ",(0,a.kt)("strong",{parentName:"p"},"A4")," sized paper on a 100% scale. If the printer has an option to ",(0,a.kt)("em",{parentName:"p"},"stretch to fit")," disable it. It looks better on a Laser printer.")),(0,a.kt)("p",null,"You can also use it as a template to make your own"))}c.isMDXComponent=!0},8806:function(t,e,n){"use strict";e.Z=n.p+"assets/images/pic014-2eab357fa1704c15fae5b70e2a10820f.jpg"},1928:function(t,e,n){"use strict";e.Z=n.p+"assets/images/iidx-normal-211116de8691bbb38380e0db43dcfb7a.png"}}]);