<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/test/blog/rss.xml" title="Cons&Stuff Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/test/blog/atom.xml" title="Cons&Stuff Blog Atom Feed"><title data-react-helmet="true">Software and Wiring | Cons&amp;Stuff</title><meta data-react-helmet="true" property="og:url" content="https://consandstuff.github.io/test/docs/beatmania/software"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Software and Wiring | Cons&amp;Stuff"><meta data-react-helmet="true" name="description" content="Introduction"><meta data-react-helmet="true" property="og:description" content="Introduction"><link data-react-helmet="true" rel="shortcut icon" href="/test/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://consandstuff.github.io/test/docs/beatmania/software"><link data-react-helmet="true" rel="alternate" href="https://consandstuff.github.io/test/docs/beatmania/software" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://consandstuff.github.io/test/docs/beatmania/software" hreflang="x-default"><link rel="stylesheet" href="/test/assets/css/styles.bfe69ca0.css">
<link rel="preload" href="/test/assets/js/runtime~main.5f3b3ebc.js" as="script">
<link rel="preload" href="/test/assets/js/main.615c4963.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/test/"><img src="/test/img/logo.svg" alt="consandstuff logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/test/img/logo.svg" alt="consandstuff logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Cons&amp;Stuff</strong></a><a class="navbar__item navbar__link navbar__link--active" href="/test/docs/iidx">Rhythm Game Controllers</a><a class="navbar__item navbar__link" href="/test/blog">Blog</a><a class="navbar__item navbar__link" href="/test/other">Other Stuff</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/consandstuff" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/test/"><img src="/test/img/logo.svg" alt="consandstuff logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/test/img/logo.svg" alt="consandstuff logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Cons&amp;Stuff</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/test/docs/iidx">Rhythm Game Controllers</a></li><li class="menu__list-item"><a class="menu__link" href="/test/blog">Blog</a></li><li class="menu__list-item"><a class="menu__link" href="/test/other">Other Stuff</a></li><li class="menu__list-item"><a href="https://github.com/consandstuff" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/test/docs/iidx">Tutorial Intro</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Beatmania IIDX Controller</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/test/docs/beatmania/game-intro">Introduction to the Game</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/test/docs/beatmania/guide-intro">Introduction to this guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/test/docs/beatmania/code">Firmware / Code</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/test/docs/beatmania/parts">Parts List</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/test/docs/beatmania/building">Building the controller</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/test/docs/beatmania/software">Software and Wiring</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/test/docs/beatmania/Troubleshooting">Troubleshooting</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Sound Voltex Controller</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/test/docs/soundvoltex/game-intro">Introduction to the Game</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/test/docs/soundvoltex/guide-intro">Introduction to this guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/test/docs/soundvoltex/code">Firmware / Code</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/test/docs/soundvoltex/parts">Parts List</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/test/docs/soundvoltex/building">Building the controller</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/test/docs/soundvoltex/software">Software and Wiring</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/test/docs/soundvoltex/Troubleshooting">Troubleshooting</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Sound Voltex Mini Controller</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/test/docs/soundvoltex - copia/game-intro">Introduction to the Game</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/test/docs/soundvoltex - copia/guide-intro">Introduction to this guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/test/docs/soundvoltex - copia/code">Firmware / Code</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/test/docs/soundvoltex - copia/parts">Parts List</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/test/docs/soundvoltex - copia/building">Building the controller</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/test/docs/soundvoltex - copia/software">Software and Wiring</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/test/docs/soundvoltex - copia/Troubleshooting">Troubleshooting</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/test/docs/gallery">Gallery</a></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Software and Wiring</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="introduction"></a>Introduction<a class="hash-link" href="#introduction" title="Direct link to heading">#</a></h2><p>The wiring process is simple enough but will give you a headache the first time you plug everything and something doesn&#x27;t work.</p><p>I&#x27;ll give you an introduction to some of the parts of the controller, and then I&#x27;ll explain how to wire everything for a LEONARDO and a TEENSY board.</p><p>First let&#x27;s talk about <strong>microswitches.</strong></p><p>Microswitches can have 2 or 3 contacts depending if they&#x27;re chinese or Omron brand switches.
The first one usually have 3 contacts: the one from bellow it&#x27;s the ground (GND or COM) and the lower right one is the input. The third one on the upper right it&#x27;s normally closed (NC), we won&#x27;t use it. Omron switches come only with the lower and lower right contacts. Check out this diagram:</p><p><img alt="enter image description here" src="/test/assets/images/pic014-2eab357fa1704c15fae5b70e2a10820f.jpg"></p><p>For the LEONARDO we usually daisy-chain all the GROUND/COMMON wires to a single one. This is completly normal and will make the job a lot easier.</p><blockquote><p>Thanks to LEONARDOjoy tutorial for this image.</p></blockquote><p><img src="http://i.imgur.com/DOZom0Z.jpg" alt="enter image description here"></p><p>Then we have the <strong>encoders</strong>.</p><p>The chinese enclose rotary encoders (600ppr) have 4 wires coming out: Data A and B (to send the rotating information), 5V input (to give the encoder the power to work) and GND (which is the ground / common), like shown here:</p><p><img src="http://i.imgur.com/n57AcSg.png" alt="enter image description here"></p><blockquote><p>The image is from the Beatmania IIDX tutorial, but the encoder is the same.</p></blockquote><p>The 2 data wires go to the pins indicated in the PIN LAYOUT as DATA A and B, depending if you&#x27;re using a Leo or a Teensy. Same with the 5v pin and the Ground pin.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="wiring-the-leonardo-pcb"></a>Wiring the Leonardo PCB<a class="hash-link" href="#wiring-the-leonardo-pcb" title="Direct link to heading">#</a></h2><p>For the LEONARDO circuit board we&#x27;re gonna be using any kind of stranded wire, usually a thin one so it doesn&#x27;t use too much space.
We&#x27;re also be using those cool crimp connectors so we don&#x27;t have to solder each wire to each button, and desoldering everytime a button or switch breaks. It&#x27;ll make maintenance easier in the long run.</p><p><img src="http://i.imgur.com/wVEetdk.jpg" alt="enter image description here"></p><p>First let&#x27;s choose a good place for the LEONARDO inside the box. You want it to be in a place where you don&#x27;t need wires that are too long or put it to close neither. Fix the Leaonardo using 2 or more screws.</p><p>Cut some wires so the length of it is enough to reach from each of the buttons to the Arduino Leonardo PCB. For this cut 2 wires of different colors for each button. Those 2 wires will be the positive (+) charge for the Button and the LED.</p><p>Strip the tip of each wire and using a crimper, crimp a 250 and a 187 crimp connector to each one. The 250 crimp is for the LED and the 187 crimp is for the microswitch.</p><p>Next we&#x27;re gonna daisy-chain all the grounds / common of each one of the buttons.</p><p>Take a long wire but don&#x27;t cut it yet. Strip the tip and put a crimp connector in it. In this case use a 250 crimp connector for the ground of the LED. Put the connector on the first upper left button and measure how much wire you need to reach the second button on the side. Cut the wire to that lenght and strip the tip of it too.</p><p>Now strip the tip of the the wire you had left and then take the 2 wires and twist them together in a single wire. Using the 250 crimp connector crimp both wires with only 1 crimp connector. Be sure that it&#x27;s firmly crimped or else the button or LED won&#x27;t work sometimes.</p><p>Repeat this process until all the 250 crimp connectors are attached. The other end of the wire that is not crimped is gonna go to the Leonardo so leave a good wire lenght.</p><p>Now do the same thing with the 187 crimp connectors for each of the buttons and that&#x27;ll leave you with two ground wires.</p><p><img src="http://i.imgur.com/BhBj5Rs.png" alt="enter image description here"></p><p>For the encoders strip some of the black wire protector back so the lenght of each encoder wire is long enough to reach all 4 pins you&#x27;ll need in the Leonardo.</p><p>Now you&#x27;ll have 18 single wires (9 LEDS and 9 buttons) and 2 ground wires, and also 4 encoder wires.</p><p>Now you need to use a soldering iron and some solder to tin the tip of each wire so the threads of the wires are together in a single solid wire. Try to make it as thin as posible so it fits inside the jumper holes of the PCB. The tinned wires should now be able to go inside the jumper holes for each pin, following the next PIN LAYOUT.</p><p><strong>Beatmania IIDX pin layout</strong></p><table><thead><tr><th>Button</th><th>Pin #</th><th>Button #</th><th>LED Pin #</th></tr></thead><tbody><tr><td>Start</td><td>11</td><td>Button 8</td><td>2</td></tr><tr><td>VFX</td><td>12</td><td>Button 9</td><td>3</td></tr><tr><td>Button 1</td><td>13</td><td>Button 1</td><td>4</td></tr><tr><td>Button 2</td><td>A0</td><td>Button 2</td><td>5</td></tr><tr><td>Button 3</td><td>A1</td><td>Button 3</td><td>6</td></tr><tr><td>Button 4</td><td>A2</td><td>Button 4</td><td>7</td></tr><tr><td>Button 5</td><td>A3</td><td>Button 5</td><td>8</td></tr><tr><td>Button 6</td><td>A4</td><td>Button 6</td><td>9</td></tr><tr><td>Button 7</td><td>A5</td><td>Button 7</td><td>10</td></tr></tbody></table><table><thead><tr><th>ENCODERS</th><th>DATA 1</th><th>DATA 2</th></tr></thead><tbody><tr><td>Encoder Tuntable</td><td>0</td><td>1</td></tr></tbody></table><blockquote><p><strong>Also you have to connect the encoder to the 5V pin for the 5v input.</strong></p></blockquote><p>That leaves pins 2 to 10 for LEDS (9 LEDS, enough for each button)
The Leonardo also has 3 ground pins, so use 1 for the encoder, 1 for the buttons and the other one for the LEDS.</p><p>With this done you now only need to load the code into the Arduino and it&#x27;s done!</p><p>##Wiring the ARCIN board</p><p>An Arcin board is a type of custom PCB that has all the inputs necesary for most known rhythm game controllers.
The board comes with 11 headers for buttons, 2 headers for encoders and also 2 extra 2-pin headers to attach LEDS to the Turntable. It has everything for a IIDX, SDVX or even a PopnMusic controller.</p><blockquote><p>If you know about arcin boards, then you&#x27;ll know where to buy them. Right now it&#x27;s kind of a private thing so please don&#x27;t ask for links because they&#x27;re not sold in any known stores or webpage, they&#x27;re custom made by another user on a private forum.</p></blockquote><p><img src="http://i.imgur.com/eHsqWNL.png" alt="arcinpcb"></p><p>So since the PCB comes preloaded with the right firmware and has all the slots for a controller we just need to wire each of the buttons.</p><p>For this part of the project we&#x27;ll need all 10 pcs. 4 pin wires. Start by testing each of the Arcin pins with a small jumper wire just so you know which pins are for the LEDS and which ones are for the buttons, since we will crimp the 250 crimps on LEDs and the 187 crimps on the Buttons.</p><p>Once they&#x27;re all tested take each 4 pin wire and crimp a connector en each end of the wire. If you think the wire is too long you can cut it and tin the tip so it&#x27;s easier to crimp. You&#x27;ll end up with 9 wires like the one shown below.</p><p><img src="http://i.imgur.com/hEbBqOl.jpg?1" alt="crimped wire arcin"></p><p>Then it&#x27;s just as easy as connect each cable to each button and then connect the header into the Arcin board and you&#x27;re done! Much easier than the Leonardo, right? Yes, but it&#x27;s also more expensive.</p><p>For the encoder you&#x27;ll need to connect the 4 pin wire to the four wires coming from the encoder.
The encoder is fixed to the acrylic using the 3 pcs. M3 bolts (6mm long).</p><p>The encoder pins are the tricky part since it depends on the version of your arcin board. It should be (from left to right) 5v, GND, Data A and Data B. (Sometimes it&#x27;s reversed)</p><p>Again, test each pin on the arcin board before doing anything. When you&#x27;re done just connect the encoder to the Arcin.</p><p><strong>We&#x27;re done!</strong></p><p>Now check your connections, close up the controller, connect the USB cable and let&#x27;s play!</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="special-gift"></a>Special gift!<a class="hash-link" href="#special-gift" title="Direct link to heading">#</a></h2><p>This is a special skin for this IIDX controller to put between the keypad acrilic and the top black cover.</p><p><img alt="skin IIDX" src="/test/assets/images/iidx-normal-211116de8691bbb38380e0db43dcfb7a.png"></p><blockquote><p>Right click, Save Image as.... Then print it in a <strong>Letter</strong> or <strong>A4</strong> sized paper on a 100% scale. If the printer has an option to <em>stretch to fit</em> disable it. It looks better on a Laser printer.</p></blockquote><p>You can also use it as a template to make your own</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/consandstuff/docs/beatmania/06-software.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/test/docs/beatmania/building"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Building the controller</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/test/docs/beatmania/Troubleshooting"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Troubleshooting Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link">Introduction</a></li><li><a href="#wiring-the-leonardo-pcb" class="table-of-contents__link">Wiring the Leonardo PCB</a></li><li><a href="#special-gift" class="table-of-contents__link">Special gift!</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/test/docs/iidx">Rhythm Games DIY Controllers</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/fknwz8s" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://www.youtube.com/user/amustlive/featured" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/test/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/consandstuff" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Controllers and Stuff, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/test/assets/js/runtime~main.5f3b3ebc.js"></script>
<script src="/test/assets/js/main.615c4963.js"></script>
</body>
</html>